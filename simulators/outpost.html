<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Riner Research Outpost</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0a1a;--card:#111128;--card-border:#1a1a3a;--text:#e0e0f0;--text-dim:#8888aa;
--accent1:#6366f1;--accent2:#a855f7;--accent3:#ec4899;--green:#22c55e;--orange:#f59e0b;
}
html,body{width:100%;height:100%;overflow:hidden;background:var(--bg);font-family:'JetBrains Mono',monospace;color:var(--text)}

/* STARFIELD CANVAS */
#stars{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}

/* ROOM CONTAINER */
#room{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;perspective:1200px;transition:opacity 0.5s}

/* VIEWPORT WINDOW - space view */
#viewport-window{
  position:absolute;top:5%;left:50%;transform:translateX(-50%);
  width:60%;height:35%;border-radius:20px 20px 8px 8px;
  border:3px solid #1a1a3a;overflow:hidden;
  background:radial-gradient(ellipse at 50% 60%,#0a0a2a 0%,#050510 100%);
  box-shadow:0 0 40px rgba(99,102,241,0.1),inset 0 0 60px rgba(0,0,0,0.5);
}
#viewport-window::before{
  content:'';position:absolute;top:0;left:0;right:0;bottom:0;
  background:linear-gradient(180deg,rgba(99,102,241,0.03) 0%,transparent 30%);
  pointer-events:none;
}
/* Planet in viewport */
#planet{
  position:absolute;bottom:-40%;right:15%;width:300px;height:300px;border-radius:50%;
  background:radial-gradient(circle at 35% 35%,#2a1a4a,#1a0a3a 40%,#0f0825 70%,#050510);
  box-shadow:0 0 80px rgba(168,85,247,0.15),inset -20px -10px 40px rgba(0,0,0,0.6);
}
#planet::after{
  content:'';position:absolute;top:45%;left:-10%;width:120%;height:10%;border-radius:50%;
  background:linear-gradient(90deg,transparent,rgba(168,85,247,0.15),rgba(99,102,241,0.1),transparent);
  transform:rotate(-5deg);
}
/* Moon */
#moon{
  position:absolute;bottom:30%;right:45%;width:40px;height:40px;border-radius:50%;
  background:radial-gradient(circle at 35% 35%,#c0c0d0,#808090 60%,#505060);
  box-shadow:0 0 15px rgba(200,200,220,0.1);
}

/* WALL PANELS - decorative */
.wall-panel{position:absolute;background:linear-gradient(180deg,#0d0d20,#0a0a18);border:1px solid #1a1a2a;z-index:-1}
.wall-left{top:0;left:0;width:8%;height:100%;border-right:2px solid #1a1a3a}
.wall-right{top:0;right:0;width:8%;height:100%;border-left:2px solid #1a1a3a}
.wall-bottom{bottom:0;left:0;width:100%;height:12%;background:linear-gradient(0deg,#08081a,#0c0c22);border-top:2px solid #1a1a3a}

/* LED strips */
.led-strip{position:absolute;height:2px;background:linear-gradient(90deg,transparent,var(--accent1),var(--accent2),transparent);opacity:0.3}
.led-strip.top{top:4.5%;left:15%;width:70%}
.led-strip.bottom{bottom:12.5%;left:10%;width:80%}
.led-strip.left{top:20%;left:8%;width:2px;height:60%;background:linear-gradient(180deg,transparent,var(--accent1),transparent)}
.led-strip.right{top:20%;right:8%;width:2px;height:60%;background:linear-gradient(180deg,transparent,var(--accent2),transparent)}

/* SCREEN BASE */
.screen{
  position:absolute;cursor:pointer;overflow:hidden;
  border:2px solid var(--card-border);border-radius:6px;
  background:var(--card);
  box-shadow:0 0 20px rgba(0,0,0,0.5),0 0 2px rgba(99,102,241,0.2);
  transition:box-shadow 0.3s;
  z-index:2;
}
.screen:hover{box-shadow:0 0 30px rgba(99,102,241,0.3),0 0 5px rgba(99,102,241,0.4);z-index:3}
.screen:hover .screen-label{opacity:1}

/* Scanline overlay */
.screen::after{
  content:'';position:absolute;top:0;left:0;right:0;bottom:0;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.08) 2px,rgba(0,0,0,0.08) 4px);
  pointer-events:none;z-index:10;
}

/* Screen content area */
.screen-content{
  position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;
}
.screen-content iframe{
  border:none;pointer-events:none;
  transform-origin:0 0;
  width:1920px;height:1080px;
}

/* Screen label */
.screen-label{
  position:absolute;bottom:0;left:0;right:0;padding:4px 8px;
  background:linear-gradient(0deg,rgba(10,10,26,0.95),rgba(10,10,26,0.7));
  font-size:10px;color:var(--text-dim);z-index:11;
  display:flex;align-items:center;gap:5px;
  transition:opacity 0.3s;opacity:0.7;
}
.screen-label .dot{width:5px;height:5px;border-radius:50%;background:var(--green);animation:blink 3s infinite}
.screen-label span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

@keyframes blink{0%,90%,100%{opacity:1}95%{opacity:0.3}}

/* Screen glow pulse */
.screen::before{
  content:'';position:absolute;top:-1px;left:-1px;right:-1px;bottom:-1px;border-radius:7px;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));opacity:0;
  transition:opacity 0.3s;z-index:-1;
}
.screen:hover::before{opacity:0.15}

/* SCREEN POSITIONS */
/* Upper left - research feed */
.screen.upper-left{top:12%;left:10%;width:220px;height:140px;transform:perspective(800px) rotateY(15deg)}
/* Upper right - big picture */
.screen.upper-right{top:12%;right:10%;width:220px;height:140px;transform:perspective(800px) rotateY(-15deg)}
/* Side panels */
.screen.side-left-1{top:35%;left:9.5%;width:160px;height:110px;transform:perspective(600px) rotateY(20deg)}
.screen.side-left-2{top:52%;left:9.5%;width:160px;height:110px;transform:perspective(600px) rotateY(20deg)}
.screen.side-right-1{top:35%;right:9.5%;width:160px;height:110px;transform:perspective(600px) rotateY(-20deg)}
.screen.side-right-2{top:52%;right:9.5%;width:160px;height:110px;transform:perspective(600px) rotateY(-20deg)}
/* Bottom console row ‚Äî all screens including metric */
.screen.central{bottom:14%;left:50%;transform:translateX(-50%);width:180px;height:105px;top:auto}
.screen.console-1{bottom:14%;left:4%;width:155px;height:105px}
.screen.console-2{bottom:14%;left:calc(4% + 168px);width:155px;height:105px}
.screen.console-3{bottom:14%;right:calc(4% + 168px);width:155px;height:105px}
.screen.console-4{bottom:14%;right:4%;width:155px;height:105px}
/* Small tablets */
.screen.tablet-1{bottom:2%;left:calc(50% - 200px);width:130px;height:85px}
.screen.tablet-2{bottom:2%;left:calc(50% + 70px);width:130px;height:85px}

/* STATUS BAR */
#status-bar{
  position:fixed;top:0;left:0;right:0;height:32px;z-index:100;
  background:linear-gradient(90deg,#0a0a1a,#0d0d22,#0a0a1a);
  border-bottom:1px solid var(--card-border);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 20px;font-size:11px;color:var(--text-dim);
}
#status-bar .brand{color:var(--accent1);font-weight:700;letter-spacing:2px;font-size:11px}
#status-bar .stats{display:flex;gap:20px}
#status-bar .stat{display:flex;align-items:center;gap:5px}
#status-bar .stat .val{color:var(--text)}
.pulse-dot{width:6px;height:6px;border-radius:50%;background:var(--green);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(34,197,94,0.4)}50%{box-shadow:0 0 0 4px rgba(34,197,94,0)}}

/* ZOOM OVERLAY */
#zoom-overlay{
  position:fixed;top:0;left:0;width:100%;height:100%;z-index:200;
  pointer-events:none;opacity:0;
  background:rgba(5,5,15,0);transition:background 0.6s;
}
#zoom-overlay.active{pointer-events:all;opacity:1;background:rgba(5,5,15,0.85)}
#zoom-clone{
  position:fixed;border:2px solid var(--card-border);border-radius:6px;
  overflow:hidden;z-index:201;background:var(--card);
  transition:all 0.7s cubic-bezier(0.22,1,0.36,1);
}
#zoom-clone iframe{border:none;width:100%;height:100%}
#zoom-clone.zoomed{border-radius:0;border-color:transparent}

/* Back button */
#back-btn{
  position:fixed;top:44px;left:16px;z-index:300;
  background:rgba(17,17,40,0.9);border:1px solid var(--card-border);
  color:var(--text);padding:8px 16px;border-radius:6px;cursor:pointer;
  font-family:'JetBrains Mono',monospace;font-size:12px;
  display:none;align-items:center;gap:6px;
  transition:all 0.3s;backdrop-filter:blur(10px);
}
#back-btn:hover{border-color:var(--accent1);color:var(--accent1)}
#back-btn.visible{display:flex}

/* AMBIENT EFFECTS */
.ambient-glow{
  position:absolute;border-radius:50%;filter:blur(60px);opacity:0.04;pointer-events:none;
  animation:drift 20s infinite alternate;
}
@keyframes drift{0%{transform:translate(0,0)}100%{transform:translate(20px,-15px)}}

/* MOBILE */
@media(max-width:900px){
  #room{perspective:none;overflow-y:auto;overflow-x:hidden;padding:40px 10px 20px;position:relative;height:auto;min-height:100vh}
  #viewport-window{position:relative;top:auto;left:auto;transform:none;width:100%;height:150px;margin-bottom:15px;border-radius:12px}
  #planet{width:120px;height:120px;bottom:-30%}
  .wall-panel,.led-strip,.ambient-glow{display:none}
  .screen{position:relative!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important;
    transform:none!important;width:100%!important;height:180px!important;margin-bottom:10px;display:block}
  .screen-label{opacity:1!important}
  #stars{display:none}
}
</style>
</head>
<body>

<canvas id="stars"></canvas>

<div id="status-bar">
  <div class="brand">‚óÜ RINER RESEARCH OUTPOST</div>
  <div class="stats">
    <div class="stat"><span class="pulse-dot"></span><span>SYSTEMS NOMINAL</span></div>
    <div class="stat">DAY <span class="val" id="day-counter">‚Äî</span></div>
    <div class="stat">SCREENS <span class="val">13</span></div>
    <div class="stat" id="clock-stat">UTC <span class="val" id="utc-clock">--:--</span></div>
  </div>
</div>

<div id="room">
  <!-- Viewport window -->
  <div id="viewport-window">
    <div id="planet"></div>
    <div id="moon"></div>
  </div>

  <!-- Wall panels -->
  <div class="wall-panel wall-left"></div>
  <div class="wall-panel wall-right"></div>
  <div class="wall-panel wall-bottom"></div>

  <!-- LED strips -->
  <div class="led-strip top"></div>
  <div class="led-strip bottom"></div>
  <div class="led-strip left"></div>
  <div class="led-strip right"></div>

  <!-- Ambient glows -->
  <div class="ambient-glow" style="top:20%;left:20%;width:300px;height:300px;background:var(--accent1)"></div>
  <div class="ambient-glow" style="top:50%;right:15%;width:250px;height:250px;background:var(--accent2);animation-delay:-8s"></div>
  <div class="ambient-glow" style="bottom:10%;left:40%;width:200px;height:200px;background:var(--accent3);animation-delay:-14s"></div>

  <!-- SCREENS -->
  <div class="screen central" data-url="metric.html" data-label="üìê 5D Prime Metric">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üìê 5D Prime Metric</span></div>
  </div>

  <div class="screen upper-left" data-url="research-feed.html" data-label="üì° Research Feed">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üì° Research Feed</span></div>
  </div>

  <div class="screen upper-right" data-url="big-picture.html" data-label="üåÄ Big Picture">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üåÄ Big Picture</span></div>
  </div>

  <div class="screen console-1" data-url="daily-practice.html" data-label="üßÆ Daily Practice">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üßÆ Daily Practice</span></div>
  </div>
  <div class="screen console-2" data-url="math-journey.html" data-label="üìä Math Journey">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üìä Math Journey</span></div>
  </div>
  <div class="screen console-3" data-url="projects.html" data-label="üîß Projects">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üîß Projects</span></div>
  </div>
  <div class="screen console-4" data-url="publications.html" data-label="üìÑ Publications">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üìÑ Publications</span></div>
  </div>

  <div class="screen side-left-1" data-url="visualizations.html" data-label="üé® Visualizations">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üé® Visualizations</span></div>
  </div>
  <div class="screen side-left-2" data-url="substrate.html" data-label="üîÆ 6th Dimension">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üîÆ 6th Dimension</span></div>
  </div>

  <div class="screen side-right-1" data-url="ligo.html" data-label="üî≠ LIGO Analysis">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üî≠ LIGO Analysis</span></div>
  </div>
  <div class="screen side-right-2" data-url="speculative.html" data-label="üí° Speculative">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üí° Speculative</span></div>
  </div>

  <div class="screen tablet-1" data-url="log-roadmap.html" data-label="üó∫Ô∏è Log & Roadmap">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üó∫Ô∏è Log & Roadmap</span></div>
  </div>
  <div class="screen tablet-2" data-url="editor.html" data-label="üìù Paper Editor">
    <div class="screen-content"></div>
    <div class="screen-label"><div class="dot"></div><span>üìù Paper Editor</span></div>
  </div>
</div>

<div id="zoom-overlay"></div>
<div id="zoom-clone"></div>
<button id="back-btn">‚óÇ ESC ‚Äî Back to Outpost</button>

<script>
// === STARFIELD ===
(function(){
  const c=document.getElementById('stars'),ctx=c.getContext('2d');
  let W,H,stars=[];
  function resize(){W=c.width=window.innerWidth;H=c.height=window.innerHeight;init()}
  function init(){
    stars=[];
    for(let i=0;i<300;i++) stars.push({x:Math.random()*W,y:Math.random()*H,r:Math.random()*1.5+0.3,a:Math.random(),s:Math.random()*0.005+0.002});
  }
  function draw(){
    ctx.clearRect(0,0,W,H);
    for(const s of stars){
      s.a+=s.s;if(s.a>1)s.s=-Math.abs(s.s);if(s.a<0.1)s.s=Math.abs(s.s);
      ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(200,200,240,${s.a})`;ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  window.addEventListener('resize',resize);resize();draw();
})();

// === LOAD IFRAMES INTO SCREENS ===
document.querySelectorAll('.screen').forEach(screen=>{
  const url=screen.dataset.url;
  const content=screen.querySelector('.screen-content');
  const w=screen.offsetWidth, h=screen.offsetHeight;
  const scale=Math.min(w/1920, h/1080);
  const iframe=document.createElement('iframe');
  iframe.src=url;
  iframe.style.transform=`scale(${scale})`;
  iframe.style.width='1920px';
  iframe.style.height='1080px';
  iframe.style.transformOrigin='0 0';
  iframe.loading='lazy';
  content.appendChild(iframe);
});

// === ZOOM ANIMATION ===
let zoomed=false, currentUrl=null;
const overlay=document.getElementById('zoom-overlay');
const clone=document.getElementById('zoom-clone');
const backBtn=document.getElementById('back-btn');

document.querySelectorAll('.screen').forEach(screen=>{
  screen.addEventListener('click',()=>{
    if(zoomed)return;
    zoomed=true;
    const rect=screen.getBoundingClientRect();
    const url=screen.dataset.url;
    currentUrl=url;

    // Position clone at screen location
    clone.style.transition='none';
    clone.style.left=rect.left+'px';
    clone.style.top=rect.top+'px';
    clone.style.width=rect.width+'px';
    clone.style.height=rect.height+'px';
    clone.style.display='block';
    clone.style.opacity='1';
    clone.innerHTML='';
    clone.className='';

    // Force reflow
    clone.offsetHeight;

    // Animate to fullscreen
    overlay.classList.add('active');
    clone.style.transition='all 0.7s cubic-bezier(0.22,1,0.36,1)';

    requestAnimationFrame(()=>{
      clone.classList.add('zoomed');
      clone.style.left='0px';
      clone.style.top='32px';
      clone.style.width='100vw';
      clone.style.height='calc(100vh - 32px)';
    });

    // After animation, load full iframe
    setTimeout(()=>{
      const iframe=document.createElement('iframe');
      iframe.src=url;
      iframe.style.width='100%';
      iframe.style.height='100%';
      iframe.style.border='none';
      clone.innerHTML='';
      clone.appendChild(iframe);
      backBtn.classList.add('visible');
    },750);
  });
});

function zoomOut(){
  if(!zoomed)return;
  zoomed=false;
  backBtn.classList.remove('visible');
  overlay.classList.remove('active');
  clone.style.opacity='0';
  setTimeout(()=>{
    clone.style.display='none';
    clone.innerHTML='';
    clone.classList.remove('zoomed');
    currentUrl=null;
  },600);
}

backBtn.addEventListener('click',zoomOut);
document.addEventListener('keydown',e=>{if(e.key==='Escape')zoomOut()});
overlay.addEventListener('click',zoomOut);

// === CLOCK & DAY COUNTER ===
const RESEARCH_START=new Date('2024-06-01');
function updateStatus(){
  const now=new Date();
  document.getElementById('utc-clock').textContent=now.toISOString().slice(11,16);
  const days=Math.floor((now-RESEARCH_START)/(86400000));
  document.getElementById('day-counter').textContent=days;
}
updateStatus();setInterval(updateStatus,10000);
</script>
</body>
</html>
