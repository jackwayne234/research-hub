<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lesson 12 — Thermochemistry</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #1e2128;
  --bg-card: #262a33;
  --bg-input: #1a1d24;
  --border: #363b47;
  --text: #e2e4e9;
  --indigo: #6366f1;
  --green: #22c55e;
  --pink: #ec4899;
  --amber: #f59e0b;
  --indigo-dim: rgba(99,102,241,0.12);
  --green-dim: rgba(34,197,94,0.12);
  --pink-dim: rgba(236,72,153,0.12);
  --amber-dim: rgba(245,158,11,0.12);
  --indigo-border: rgba(99,102,241,0.4);
  --green-border: rgba(34,197,94,0.4);
  --pink-border: rgba(236,72,153,0.4);
  --amber-border: rgba(245,158,11,0.4);
}
* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 14px;
  line-height: 1.7;
  min-height: 100vh;
}

/* TOP BAR */
.top-bar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: var(--bg-card);
  border-bottom: 1px solid var(--border);
  padding: 12px 24px;
  display: flex;
  align-items: center;
  gap: 16px;
}
.lesson-badge {
  background: var(--indigo);
  color: #fff;
  font-weight: 700;
  font-size: 13px;
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.lesson-title {
  font-weight: 600;
  font-size: 15px;
  color: var(--text);
  flex-shrink: 0;
}
.progress-wrap {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  max-width: 320px;
}
.progress-track {
  height: 5px;
  background: var(--bg-input);
  border-radius: 99px;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: var(--green);
  border-radius: 99px;
  width: 0%;
  transition: width 0.4s cubic-bezier(.34,1.56,.64,1);
}
.progress-label {
  font-size: 11px;
  color: #6b7280;
}

/* MAIN CONTENT */
.content {
  max-width: 860px;
  margin: 0 auto;
  padding: 32px 24px 80px;
}

/* SECTION CARDS */
.section-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  margin-bottom: 16px;
  overflow: hidden;
  transition: border-color 0.3s ease;
}
.section-card.completed {
  border-color: var(--green-border);
}
.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 20px;
  cursor: pointer;
  user-select: none;
  gap: 12px;
}
.section-header:hover { background: rgba(255,255,255,0.02); }
.section-num {
  font-size: 11px;
  font-weight: 600;
  color: var(--indigo);
  background: var(--indigo-dim);
  border: 1px solid var(--indigo-border);
  border-radius: 6px;
  padding: 2px 8px;
  flex-shrink: 0;
}
.section-name {
  font-weight: 600;
  font-size: 14px;
  flex: 1;
}
.chevron {
  width: 18px;
  height: 18px;
  color: #6b7280;
  transition: transform 0.4s cubic-bezier(.34,1.56,.64,1);
  flex-shrink: 0;
}
.section-card.open .chevron { transform: rotate(180deg); }
.section-body {
  display: none;
  padding: 0 20px 24px;
  border-top: 1px solid var(--border);
}
.section-card.open .section-body { display: block; }

/* TYPOGRAPHY */
h3 { font-size: 13px; font-weight: 600; color: var(--indigo); margin: 20px 0 8px; text-transform: uppercase; letter-spacing: 0.05em; }
p { margin-bottom: 12px; color: #c9cdd6; }
ul, ol { margin: 0 0 12px 20px; color: #c9cdd6; }
li { margin-bottom: 4px; }

/* FORMULA BOX */
.formula-box {
  background: var(--indigo-dim);
  border: 1px solid var(--indigo-border);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  text-align: center;
  letter-spacing: 0.02em;
}
.formula-box.green {
  background: var(--green-dim);
  border-color: var(--green-border);
  color: #86efac;
}
.formula-box.pink {
  background: var(--pink-dim);
  border-color: var(--pink-border);
  color: #f9a8d4;
}
.formula-box.amber {
  background: var(--amber-dim);
  border-color: var(--amber-border);
  color: #fcd34d;
}

/* KEY POINT */
.key-point {
  background: var(--amber-dim);
  border-left: 3px solid var(--amber);
  border-radius: 0 8px 8px 0;
  padding: 12px 16px;
  margin: 12px 0;
  color: #fcd34d;
  font-size: 13px;
}
.key-point strong { color: var(--amber); }

/* NAVY CONTEXT */
.navy-context {
  background: linear-gradient(135deg, rgba(99,102,241,0.1) 0%, rgba(99,102,241,0.05) 100%);
  border: 1px solid var(--indigo-border);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 14px 0;
}
.navy-context-label {
  font-size: 10px;
  font-weight: 700;
  color: var(--indigo);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 6px;
}
.navy-context p { color: #a5b4fc; margin-bottom: 6px; }
.navy-context p:last-child { margin-bottom: 0; }

/* INTERACTIVE AREA */
.interactive-area {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 18px;
  margin: 16px 0;
}
.interactive-area h4 {
  font-size: 12px;
  font-weight: 600;
  color: var(--indigo);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 14px;
}
.slider-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}
.slider-label {
  font-size: 12px;
  color: #9ca3af;
  min-width: 140px;
}
input[type=range] {
  flex: 1;
  min-width: 120px;
  accent-color: var(--indigo);
  cursor: pointer;
}
.readout {
  font-size: 12px;
  font-weight: 600;
  color: var(--text);
  min-width: 80px;
  text-align: right;
}
.calc-result {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px 16px;
  margin-top: 12px;
  text-align: center;
  font-size: 14px;
  font-weight: 600;
}
.calc-result .result-label { font-size: 11px; color: #6b7280; margin-bottom: 4px; font-weight: 400; }
.calc-result .result-val { color: var(--green); font-size: 18px; }

/* DATA TABLE */
.data-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
  font-size: 13px;
}
.data-table th {
  background: var(--bg-input);
  color: var(--indigo);
  padding: 8px 12px;
  text-align: left;
  border: 1px solid var(--border);
  font-weight: 600;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.data-table td {
  padding: 7px 12px;
  border: 1px solid var(--border);
  color: #c9cdd6;
}
.data-table tr:nth-child(even) td { background: rgba(255,255,255,0.02); }
.data-table tr:hover td { background: rgba(99,102,241,0.06); }

/* PRACTICE PROBLEMS */
.problem {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 18px;
  margin: 14px 0;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.problem-num {
  font-size: 10px;
  font-weight: 700;
  color: var(--indigo);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 8px;
}
.problem p { margin-bottom: 10px; }
.input-row {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
.input-row input[type=number], .input-row input[type=text] {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 14px;
  padding: 7px 12px;
  width: 140px;
  outline: none;
  transition: border-color 0.2s;
}
.input-row input:focus { border-color: var(--indigo); }
.input-unit { font-size: 12px; color: #6b7280; }
.check-btn {
  background: var(--indigo);
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 7px 16px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}
.check-btn:hover { background: #4f52d4; }
.check-btn:active { transform: scale(0.97); }
.feedback {
  margin-top: 10px;
  font-size: 13px;
  font-weight: 500;
  min-height: 20px;
  border-radius: 6px;
  padding: 6px 10px;
}
.feedback.correct {
  background: var(--green-dim);
  color: var(--green);
  border: 1px solid var(--green-border);
}
.feedback.incorrect {
  background: var(--pink-dim);
  color: var(--pink);
  border: 1px solid var(--pink-border);
}

/* MC BUTTONS */
.mc-options { display: flex; flex-direction: column; gap: 8px; margin: 10px 0; }
.mc-btn {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 7px;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  padding: 9px 14px;
  text-align: left;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
}
.mc-btn:hover:not(.disabled) { background: var(--indigo-dim); border-color: var(--indigo-border); }
.mc-btn.disabled { cursor: default; pointer-events: none; opacity: 0.7; }
.mc-btn.correct { background: var(--green-dim); border-color: var(--green-border); color: var(--green); }
.mc-btn.wrong { background: var(--pink-dim); border-color: var(--pink-border); color: var(--pink); }

/* QUIZ */
.quiz-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
}
.quiz-score-display {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px 16px;
  font-size: 13px;
  color: #9ca3af;
}
.quiz-score-display span { color: var(--green); font-weight: 700; font-size: 16px; }
.reset-btn {
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 6px;
  color: #9ca3af;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  padding: 6px 14px;
  cursor: pointer;
  transition: border-color 0.2s, color 0.2s;
}
.reset-btn:hover { border-color: var(--amber); color: var(--amber); }
.quiz-q {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 18px;
  margin-bottom: 14px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.quiz-q-num {
  font-size: 10px;
  font-weight: 700;
  color: var(--indigo);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 8px;
}
.quiz-q p { margin-bottom: 12px; color: var(--text); }
.choices { display: flex; flex-direction: column; gap: 7px; }
.choice-btn {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 7px;
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  padding: 9px 14px;
  text-align: left;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
}
.choice-btn:hover:not(.disabled) { background: var(--indigo-dim); border-color: var(--indigo-border); }
.choice-btn.disabled { cursor: default; pointer-events: none; opacity: 0.7; }
.choice-btn.selected-correct { background: var(--green-dim); border-color: var(--green-border); color: var(--green); opacity: 1 !important; }
.choice-btn.selected-wrong { background: var(--pink-dim); border-color: var(--pink-border); color: var(--pink); opacity: 1 !important; }
.choice-btn.reveal-correct { background: var(--green-dim); border-color: var(--green-border); color: var(--green); opacity: 1 !important; }

/* SVG DIAGRAM */
.svg-wrap {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
  margin: 14px 0;
  text-align: center;
}
.toggle-row {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-bottom: 16px;
}
.toggle-btn {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: #9ca3af;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  font-weight: 600;
  padding: 6px 16px;
  cursor: pointer;
  transition: all 0.2s;
}
.toggle-btn.active-exo { background: var(--pink-dim); border-color: var(--pink-border); color: var(--pink); }
.toggle-btn.active-endo { background: var(--green-dim); border-color: var(--green-border); color: var(--green); }

/* HESS LAW */
.hess-step {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 8px 0;
  font-size: 13px;
}
.hess-step .step-label {
  font-size: 10px;
  color: var(--indigo);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 4px;
}
.hess-step .rxn { font-weight: 600; color: var(--text); margin-bottom: 4px; }
.hess-step .dh { color: var(--amber); font-size: 13px; }
.hess-divider {
  border: none;
  border-top: 1px dashed var(--border);
  margin: 10px 0;
}
.hess-total {
  background: var(--indigo-dim);
  border: 1px solid var(--indigo-border);
  border-radius: 8px;
  padding: 12px 16px;
  font-weight: 700;
  color: var(--indigo);
  font-size: 14px;
  text-align: center;
  margin: 8px 0;
}

/* BOND TABLE */
.bond-table-wrap { overflow-x: auto; }

/* ANIMATIONS */
@keyframes popCorrect {
  0%   { transform: scale(1); }
  40%  { transform: scale(1.03); box-shadow: 0 0 0 4px rgba(34,197,94,0.2); }
  100% { transform: scale(1); box-shadow: none; }
}
@keyframes shakeWrong {
  0%,100% { transform: translateX(0); }
  20%      { transform: translateX(-6px); }
  40%      { transform: translateX(6px); }
  60%      { transform: translateX(-4px); }
  80%      { transform: translateX(4px); }
}
.pop  { animation: popCorrect  0.35s cubic-bezier(.34,1.56,.64,1) forwards; }
.shake{ animation: shakeWrong  0.40s ease forwards; }

/* RESPONSIVE */
@media(max-width:640px){
  .top-bar { padding: 10px 14px; gap: 10px; }
  .lesson-title { font-size: 13px; }
  .progress-wrap { max-width: 160px; }
  .content { padding: 20px 14px 60px; }
  .section-header { padding: 14px; }
  .section-body { padding: 0 14px 18px; }
  .slider-row { flex-direction: column; align-items: flex-start; gap: 6px; }
  .readout { text-align: left; }
  .input-row { flex-direction: column; align-items: flex-start; }
}

/* MISC */
.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin: 12px 0;
}
@media(max-width:640px){ .two-col { grid-template-columns: 1fr; } }
.col-card {
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 14px;
}
.col-card .col-title {
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 8px;
}
.col-card.exo .col-title { color: var(--pink); }
.col-card.endo .col-title { color: var(--green); }
.col-card li { font-size: 13px; color: #c9cdd6; }

sup { font-size: 0.75em; }
sub { font-size: 0.75em; }

.inline-badge {
  display: inline-block;
  font-size: 10px;
  font-weight: 700;
  padding: 1px 7px;
  border-radius: 4px;
  vertical-align: middle;
  margin: 0 3px;
}
.badge-indigo { background: var(--indigo-dim); color: var(--indigo); border: 1px solid var(--indigo-border); }
.badge-green  { background: var(--green-dim);  color: var(--green);  border: 1px solid var(--green-border);  }
.badge-pink   { background: var(--pink-dim);   color: var(--pink);   border: 1px solid var(--pink-border);   }
.badge-amber  { background: var(--amber-dim);  color: var(--amber);  border: 1px solid var(--amber-border);  }
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="top-bar">
  <div class="lesson-badge">12</div>
  <div class="lesson-title">Thermochemistry</div>
  <div class="progress-wrap">
    <div class="progress-track"><div class="progress-fill" id="progressFill"></div></div>
    <div class="progress-label" id="progressLabel">0 / 8 sections</div>
  </div>
</div>

<!-- CONTENT -->
<div class="content">

<!-- ═══════════════════════════════════════════════ SECTION 1 -->
<div class="section-card" data-section="1">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">01</span>
    <span class="section-name">Energy &amp; Enthalpy</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <h3>Thermodynamic Systems</h3>
    <p>
      In thermochemistry, we define a <strong>system</strong> (the reaction we care about) and the <strong>surroundings</strong> (everything else — the calorimeter, the lab, the universe). Energy is always conserved: E<sub>system</sub> + E<sub>surroundings</sub> = constant. You already know this from physics as the First Law of Thermodynamics.
    </p>

    <div class="two-col">
      <div class="col-card">
        <div class="col-title" style="color:var(--indigo)">System Types</div>
        <ul>
          <li><strong>Open</strong> — exchanges matter &amp; energy</li>
          <li><strong>Closed</strong> — exchanges only energy</li>
          <li><strong>Isolated</strong> — exchanges nothing</li>
        </ul>
      </div>
      <div class="col-card">
        <div class="col-title" style="color:var(--indigo)">Sign Convention</div>
        <ul>
          <li>Energy INTO system → positive (+)</li>
          <li>Energy OUT of system → negative (−)</li>
          <li>Standard across chemistry &amp; physics</li>
        </ul>
      </div>
    </div>

    <h3>Internal Energy vs. Enthalpy</h3>
    <p>
      <strong>Internal Energy (U or E)</strong> is all kinetic and potential energy stored in the system — translational, rotational, vibrational, electronic. At constant volume, heat transferred equals ΔU.
    </p>
    <div class="formula-box">ΔU = q + w &nbsp;&nbsp;(First Law of Thermodynamics)</div>
    <p style="font-size:12px;color:#6b7280;text-align:center;margin-top:-6px">q = heat, w = work done on system (w = −PΔV for expansion)</p>

    <p>
      Most chemistry happens at constant pressure (open flasks, atmosphere). At constant pressure, it is more convenient to track <strong>enthalpy (H)</strong>:
    </p>
    <div class="formula-box">H = U + PV &nbsp;&nbsp;&nbsp;&nbsp; ΔH = ΔU + PΔV = q<sub>p</sub></div>
    <p>
      At constant pressure, ΔH equals the heat exchanged. For gases, PΔV = Δn<sub>gas</sub>RT, so ΔH and ΔU differ by that term. For solids/liquids, PΔV ≈ 0, so ΔH ≈ ΔU.
    </p>

    <h3>State Functions</h3>
    <p>
      Enthalpy is a <strong>state function</strong> — like altitude on a map, it depends only on where you are, not on the path you took to get there. This is the same mathematical property as potential energy and electric potential in physics. It leads directly to Hess's Law (Section 4).
    </p>
    <div class="key-point">
      <strong>Key Point:</strong> ΔH &lt; 0 → exothermic (heat released to surroundings, feels warm). ΔH &gt; 0 → endothermic (heat absorbed from surroundings, feels cold).
    </div>

    <div class="two-col">
      <div class="col-card exo">
        <div class="col-title">Exothermic (ΔH &lt; 0)</div>
        <ul>
          <li>Combustion of fuel</li>
          <li>Neutralization reactions</li>
          <li>Oxidation of metals</li>
          <li>MRE heater (Mg + Fe + salt)</li>
        </ul>
      </div>
      <div class="col-card endo">
        <div class="col-title">Endothermic (ΔH &gt; 0)</div>
        <ul>
          <li>Melting ice / vaporizing water</li>
          <li>Photosynthesis</li>
          <li>Dissolving NH₄NO₃ in water</li>
          <li>Cold packs (instant ice packs)</li>
        </ul>
      </div>
    </div>

    <div class="navy-context">
      <div class="navy-context-label">Navy / Physics Context</div>
      <p>In thermodynamics (physics), the First Law ΔU = q + w is identical — chemistry just calls q<sub>p</sub> "enthalpy." When a gas turbine aboard a destroyer combusts JP-5 jet fuel, the system releases ~43 MJ/kg (ΔH &lt; 0), and PΔV work drives the turbine shaft. The split between heat and work is exactly what ΔU = q + w tracks.</p>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 2 -->
<div class="section-card" data-section="2">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">02</span>
    <span class="section-name">Enthalpy Diagrams</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <h3>Reading an Enthalpy Diagram</h3>
    <p>
      An enthalpy diagram (also called a reaction coordinate diagram) plots the enthalpy of the system on the y-axis against the progress of reaction on the x-axis. Reactants start at one energy level; products end at another. The vertical gap is ΔH.
    </p>

    <div class="svg-wrap">
      <div class="toggle-row">
        <button class="toggle-btn active-exo" id="exoBtn" onclick="showDiagram('exo')">Exothermic</button>
        <button class="toggle-btn" id="endoBtn" onclick="showDiagram('endo')">Endothermic</button>
        <button class="toggle-btn" id="combBtn" onclick="showDiagram('comb')" style="border-color:var(--amber-border);color:var(--amber)">JP-5 Combustion</button>
      </div>
      <svg id="enthalpySVG" viewBox="0 0 500 280" width="100%" style="max-width:480px;display:block;margin:0 auto;">
        <!-- Axes -->
        <line x1="60" y1="20" x2="60" y2="250" stroke="#363b47" stroke-width="1.5"/>
        <line x1="60" y1="250" x2="460" y2="250" stroke="#363b47" stroke-width="1.5"/>
        <!-- Y axis label -->
        <text x="18" y="140" fill="#6b7280" font-family="JetBrains Mono,monospace" font-size="12" transform="rotate(-90,18,140)" text-anchor="middle">Enthalpy (H)</text>
        <!-- X axis label -->
        <text x="260" y="270" fill="#6b7280" font-family="JetBrains Mono,monospace" font-size="11" text-anchor="middle">Reaction Progress →</text>
        <!-- Dynamic elements -->
        <g id="diagramContent"></g>
      </svg>
      <div id="diagramCaption" style="font-size:12px;color:#9ca3af;margin-top:10px;"></div>
    </div>

    <h3>Activation Energy (E<sub>a</sub>)</h3>
    <p>
      Notice the "hump" in the diagram — this is the <strong>activation energy</strong>, the energy barrier reactants must overcome. Catalysts lower E<sub>a</sub> without changing ΔH. The overall ΔH is a state function; E<sub>a</sub> is kinetic, not thermodynamic. (This connects to Arrhenius kinetics, covered separately.)
    </p>

    <div class="key-point">
      <strong>Reading the diagram:</strong> ΔH = H(products) − H(reactants). If products are lower on the diagram → ΔH &lt; 0 → exothermic. If products are higher → ΔH &gt; 0 → endothermic.
    </div>

    <div class="navy-context">
      <div class="navy-context-label">Navy / Physics Context</div>
      <p>Missile solid propellants (like HTPB/AP composites) are engineered to have large negative ΔH and low activation energy — they need to ignite reliably on command and release energy rapidly. The enthalpy diagram "drop" directly determines thrust energy available. Detonation vs. deflagration is fundamentally about the rate at which that drop occurs.</p>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 3 -->
<div class="section-card" data-section="3">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">03</span>
    <span class="section-name">Calorimetry</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <h3>The Calorimetry Equation</h3>
    <p>
      Calorimetry measures heat flow by tracking temperature changes in a known substance (usually water). The fundamental equation:
    </p>
    <div class="formula-box">q = m · c · ΔT</div>
    <p>Where:</p>
    <ul>
      <li><strong>q</strong> = heat energy transferred (joules, J)</li>
      <li><strong>m</strong> = mass of the absorbing substance (grams)</li>
      <li><strong>c</strong> = specific heat capacity (J/g·°C)</li>
      <li><strong>ΔT</strong> = T<sub>final</sub> − T<sub>initial</sub> (°C or K, same magnitude)</li>
    </ul>
    <p>
      Water has c = 4.184 J/g·°C — one of the highest of any common substance, which is why it is used as a coolant in reactors and engines.
    </p>

    <h3>Coffee-Cup vs. Bomb Calorimeter</h3>
    <div class="two-col">
      <div class="col-card">
        <div class="col-title" style="color:var(--amber)">Coffee-Cup (Constant P)</div>
        <ul>
          <li>Open to atmosphere → P = const</li>
          <li>Measures q<sub>p</sub> = ΔH directly</li>
          <li>Polystyrene cups, cheap, simple</li>
          <li>Used for solution reactions</li>
          <li>Assumes no heat loss to cup</li>
        </ul>
      </div>
      <div class="col-card">
        <div class="col-title" style="color:var(--indigo)">Bomb Calorimeter (Constant V)</div>
        <ul>
          <li>Sealed rigid vessel → V = const</li>
          <li>Measures q<sub>v</sub> = ΔU directly</li>
          <li>ΔH = ΔU + Δn<sub>gas</sub>RT correction</li>
          <li>Used for combustion reactions</li>
          <li>Much higher precision</li>
        </ul>
      </div>
    </div>

    <h3>Interactive Calorimeter Calculator</h3>
    <div class="interactive-area">
      <h4>q = m · c · ΔT Calculator</h4>
      <div class="slider-row">
        <span class="slider-label">Mass of water (m)</span>
        <input type="range" id="massSlider" min="10" max="500" value="150" oninput="updateCalc()">
        <span class="readout" id="massRead">150 g</span>
      </div>
      <div class="slider-row">
        <span class="slider-label">Specific heat (c)</span>
        <input type="range" id="cSlider" min="100" max="500" value="418" oninput="updateCalc()">
        <span class="readout" id="cRead">4.18 J/g·°C</span>
      </div>
      <div class="slider-row">
        <span class="slider-label">Temp change (ΔT)</span>
        <input type="range" id="dtSlider" min="-50" max="100" value="25" oninput="updateCalc()">
        <span class="readout" id="dtRead">+25.0 °C</span>
      </div>
      <div class="calc-result">
        <div class="result-label">Heat transferred (q)</div>
        <div class="result-val" id="qResult">15,675 J</div>
        <div style="font-size:11px;color:#6b7280;margin-top:4px" id="qResultKJ">15.68 kJ</div>
        <div style="font-size:11px;color:#9ca3af;margin-top:2px" id="directionLabel">Endothermic — heat absorbed by water</div>
      </div>
    </div>

    <h3>Specific Heat Values (Common Substances)</h3>
    <table class="data-table">
      <thead><tr><th>Substance</th><th>c (J/g·°C)</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td>Water (liquid)</td><td>4.184</td><td>Standard reference</td></tr>
        <tr><td>Water (ice)</td><td>2.09</td><td>Half of liquid</td></tr>
        <tr><td>Water (steam)</td><td>2.01</td><td>Less than liquid</td></tr>
        <tr><td>Aluminum</td><td>0.897</td><td>Aircraft/ship structures</td></tr>
        <tr><td>Steel (iron)</td><td>0.490</td><td>Hull, machinery</td></tr>
        <tr><td>Copper</td><td>0.385</td><td>Electrical wiring</td></tr>
        <tr><td>JP-5 jet fuel</td><td>~2.0</td><td>Navy aviation fuel</td></tr>
        <tr><td>Air</td><td>1.006</td><td>Constant pressure</td></tr>
      </tbody>
    </table>

    <div class="navy-context">
      <div class="navy-context-label">Navy / Physics Context</div>
      <p>Damage control on a ship involves understanding heat capacity. Seawater flooding engine spaces absorbs enormous heat (high c, high mass). The MRE flameless ration heater uses Mg + Fe + NaCl(aq) — an exothermic reaction that heats ~200 mL of water by ~60°C in minutes. Using q = mcΔT: q = 200 × 4.184 × 60 ≈ 50,200 J = 50.2 kJ released by the chemical reaction.</p>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 4 -->
<div class="section-card" data-section="4">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">04</span>
    <span class="section-name">Hess's Law</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <h3>The Law</h3>
    <p>
      Because enthalpy is a state function, the total enthalpy change for a reaction is the same regardless of the pathway taken. This is Hess's Law: you can add individual reaction steps algebraically to get the overall ΔH.
    </p>
    <div class="formula-box">ΔH<sub>overall</sub> = ΔH<sub>1</sub> + ΔH<sub>2</sub> + ΔH<sub>3</sub> + …</div>

    <h3>Rules for Manipulating Reactions</h3>
    <ul>
      <li><strong>Reverse a reaction:</strong> flip the sign of ΔH (exo becomes endo, and vice versa)</li>
      <li><strong>Multiply by a scalar:</strong> multiply ΔH by the same factor</li>
      <li><strong>Species that cancel</strong> are intermediates — they don't appear in the overall equation</li>
    </ul>

    <h3>Worked Example: Formation of CO from C and O₂</h3>
    <p>We cannot easily measure C(s) + ½O₂(g) → CO(g) directly. But we know:</p>

    <div class="hess-step">
      <div class="step-label">Reaction 1 (given)</div>
      <div class="rxn">C(s) + O₂(g) → CO₂(g)</div>
      <div class="dh">ΔH₁ = −393.5 kJ</div>
    </div>
    <div class="hess-step">
      <div class="step-label">Reaction 2 (given)</div>
      <div class="rxn">CO(g) + ½O₂(g) → CO₂(g)</div>
      <div class="dh">ΔH₂ = −283.0 kJ</div>
    </div>

    <p style="margin-top:12px">Reverse Reaction 2 (CO₂ is a product we want to cancel):</p>

    <div class="hess-step">
      <div class="step-label">Reaction 2 — Reversed</div>
      <div class="rxn">CO₂(g) → CO(g) + ½O₂(g)</div>
      <div class="dh">ΔH = +283.0 kJ</div>
    </div>

    <p>Add Reaction 1 + Reversed Reaction 2:</p>
    <div class="hess-step">
      <div class="step-label">Sum</div>
      <div class="rxn">C(s) + O₂(g) + CO₂(g) → CO₂(g) + CO(g) + ½O₂(g)</div>
      <div class="rxn" style="margin-top:4px;color:var(--green)">Cancels → C(s) + ½O₂(g) → CO(g)</div>
      <div class="dh">ΔH = −393.5 + 283.0 = <strong style="color:var(--amber)">−110.5 kJ</strong></div>
    </div>

    <hr class="hess-divider">
    <div class="hess-total">ΔH°<sub>f</sub> [CO(g)] = −110.5 kJ/mol ✓</div>

    <div class="key-point">
      <strong>Physics Connection:</strong> Hess's Law is the thermochemical equivalent of "path independence of conservative forces." Just as gravitational potential energy depends only on height (not the path climbed), enthalpy depends only on the initial and final states. Both derive from the same underlying conservation principle.
    </div>

    <div class="navy-context">
      <div class="navy-context-label">Navy / Physics Context</div>
      <p>Propellant engineers use Hess's Law to calculate heats of detonation for explosives they cannot safely combust in a calorimeter directly. By combining formation enthalpies of reactants and products, they compute ΔH<sub>rxn</sub> for the full detonation reaction — critical for predicting blast overpressure and safe handling temperatures aboard ship.</p>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 5 -->
<div class="section-card" data-section="5">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">05</span>
    <span class="section-name">Bond Energies</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <h3>Bond Energy Concept</h3>
    <p>
      Chemical bonds store potential energy (like a spring). Breaking bonds requires energy input (endothermic). Forming bonds releases energy (exothermic). The net ΔH of a reaction is the balance between energy spent breaking reactant bonds and energy gained forming product bonds.
    </p>
    <div class="formula-box amber">ΔH ≈ Σ BE(bonds broken) − Σ BE(bonds formed)</div>
    <p style="font-size:12px;color:#6b7280;text-align:center;margin-top:-6px">BE = bond energy (always positive; breaking is endothermic)</p>

    <div class="key-point">
      <strong>Memory Aid:</strong> "Break to Take, Form to Warm." Breaking bonds takes energy. Forming bonds warms the surroundings (releases energy). If forming &gt; breaking → net exothermic (ΔH &lt; 0).
    </div>

    <h3>Common Bond Energies</h3>
    <div class="bond-table-wrap">
      <table class="data-table">
        <thead><tr><th>Bond</th><th>Energy (kJ/mol)</th><th>Bond</th><th>Energy (kJ/mol)</th></tr></thead>
        <tbody>
          <tr><td>H—H</td><td>432</td><td>C—C</td><td>347</td></tr>
          <tr><td>O=O (O₂)</td><td>498</td><td>C=C</td><td>614</td></tr>
          <tr><td>N≡N (N₂)</td><td>945</td><td>C≡C</td><td>839</td></tr>
          <tr><td>H—O</td><td>459</td><td>C—H</td><td>413</td></tr>
          <tr><td>H—N</td><td>391</td><td>C—O</td><td>358</td></tr>
          <tr><td>H—Cl</td><td>427</td><td>C=O (CO₂)</td><td>799</td></tr>
          <tr><td>H—F</td><td>565</td><td>C—N</td><td>305</td></tr>
          <tr><td>Cl—Cl</td><td>243</td><td>N—O</td><td>201</td></tr>
          <tr><td>F—F</td><td>154</td><td>N=O</td><td>607</td></tr>
          <tr><td>O—H (in H₂O₂)</td><td>146*</td><td>N—N</td><td>163</td></tr>
        </tbody>
      </table>
    </div>
    <p style="font-size:11px;color:#6b7280;">*O—O single bond in peroxides is unusually weak, contributing to oxidizer instability.</p>

    <h3>Worked Example: H₂ + Cl₂ → 2 HCl</h3>
    <p>Bonds broken: 1 × H—H (432) + 1 × Cl—Cl (243) = 675 kJ</p>
    <p>Bonds formed: 2 × H—Cl (427) = 854 kJ</p>
    <div class="formula-box green">ΔH ≈ 675 − 854 = −179 kJ (exothermic) ✓</div>
    <p style="font-size:12px;color:#6b7280;text-align:center">(Actual: −184.6 kJ/mol — bond energies are averages, so expect ~5% error)</p>

    <div class="navy-context">
      <div class="navy-context-label">Navy / Physics Context</div>
      <p>The enormous energy density of JP-5 (C<sub>12</sub>H<sub>26</sub> ≈ dodecane) combustion comes from replacing weak C—H and C—C bonds with very strong C=O bonds in CO₂ and O—H bonds in H₂O. Each mole of C=O formed releases ~799 kJ vs. ~347 kJ to break C—C. This 2:1 energy ratio is why hydrocarbons are such effective fuels. RDX explosive similarly has a high N—O → N=N release on detonation.</p>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 6 -->
<div class="section-card" data-section="6">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">06</span>
    <span class="section-name">Standard Enthalpies of Formation</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <h3>Standard State &amp; Reference Point</h3>
    <p>
      Since we can only measure changes in enthalpy, we need a reference. The convention: <strong>ΔH°<sub>f</sub> of any pure element in its most stable form at 25°C and 1 atm = 0</strong>.
    </p>
    <ul>
      <li>H₂(g) → ΔH°<sub>f</sub> = 0 (diatomic gas is standard state)</li>
      <li>O₂(g) → ΔH°<sub>f</sub> = 0</li>
      <li>C(s, graphite) → ΔH°<sub>f</sub> = 0 (not diamond — graphite is more stable)</li>
      <li>Fe(s) → ΔH°<sub>f</sub> = 0</li>
    </ul>

    <div class="formula-box">ΔH°<sub>rxn</sub> = Σ n·ΔH°<sub>f</sub>(products) − Σ m·ΔH°<sub>f</sub>(reactants)</div>
    <p style="font-size:12px;color:#6b7280;text-align:center;margin-top:-6px">n, m = stoichiometric coefficients from balanced equation</p>

    <h3>Standard Formation Enthalpies (kJ/mol)</h3>
    <table class="data-table">
      <thead><tr><th>Compound</th><th>ΔH°<sub>f</sub> (kJ/mol)</th><th>Relevance</th></tr></thead>
      <tbody>
        <tr><td>H₂O(l)</td><td>−285.8</td><td>Combustion product</td></tr>
        <tr><td>H₂O(g)</td><td>−241.8</td><td>Steam; lower than liquid</td></tr>
        <tr><td>CO₂(g)</td><td>−393.5</td><td>Combustion product</td></tr>
        <tr><td>CO(g)</td><td>−110.5</td><td>Incomplete combustion</td></tr>
        <tr><td>NH₃(g)</td><td>−46.1</td><td>Explosive precursor</td></tr>
        <tr><td>NO(g)</td><td>+90.3</td><td>Endothermic — unstable</td></tr>
        <tr><td>NO₂(g)</td><td>+33.2</td><td>Brown smog, oxidizer</td></tr>
        <tr><td>HCl(g)</td><td>−92.3</td><td>Acid gas</td></tr>
        <tr><td>C₁₂H₂₆(l) dodecane</td><td>−350.9</td><td>JP-5 approximation</td></tr>
        <tr><td>Al₂O₃(s)</td><td>−1675.7</td><td>Thermite product</td></tr>
        <tr><td>Fe₂O₃(s)</td><td>−824.2</td><td>Thermite reactant (rust)</td></tr>
        <tr><td>N₂H₄(l) hydrazine</td><td>+50.6</td><td>Rocket propellant</td></tr>
      </tbody>
    </table>

    <h3>Worked Example: Combustion of Methane</h3>
    <p>CH₄(g) + 2O₂(g) → CO₂(g) + 2H₂O(l)</p>
    <p>ΔH°<sub>rxn</sub> = [1(−393.5) + 2(−285.8)] − [1(−74.8) + 2(0)]</p>
    <p>= [−393.5 − 571.6] − [−74.8]</p>
    <div class="formula-box green">ΔH°<sub>rxn</sub> = −965.1 − (−74.8) = −890.3 kJ/mol</div>
    <p style="font-size:12px;color:#6b7280;text-align:center">890 kJ released per mole of methane burned — natural gas furnaces, ship generators</p>

    <div class="key-point">
      <strong>Thermite Reaction Check:</strong> 2Al(s) + Fe₂O₃(s) → Al₂O₃(s) + 2Fe(s)<br>
      ΔH = [−1675.7 + 0] − [0 + (−824.2)] = −851.5 kJ. Massively exothermic — used in incendiary devices and rail welding.
    </div>

    <div class="navy-context">
      <div class="navy-context-label">Navy / Physics Context</div>
      <p>Hydrazine (N₂H₄, ΔH°<sub>f</sub> = +50.6 kJ/mol) is a hypergolic rocket monopropellant used in satellite attitude control thrusters. Its positive formation enthalpy means it is thermodynamically unstable relative to N₂ and H₂ — energy stored in the molecule drives rapid decomposition: N₂H₄ → N₂ + 2H₂, ΔH = −50.6 kJ/mol. Combine with liquid oxygen and ΔH becomes far more negative — that energy difference drives thrust.</p>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 7 -->
<div class="section-card" data-section="7">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">07</span>
    <span class="section-name">Practice Problems</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">

    <!-- Problem 1 -->
    <div class="problem">
      <div class="problem-num">Problem 1 — Calorimetry</div>
      <p>A 250 g sample of water absorbs heat from a combustion reaction and its temperature rises from 22.0°C to 47.5°C. Calculate q for the water in kJ. (Use c = 4.184 J/g·°C)</p>
      <div class="input-row">
        <input type="number" id="p1" placeholder="answer" step="0.01">
        <span class="input-unit">kJ</span>
        <button class="check-btn" onclick="checkNum('p1', 26.67, 0.5)">Check</button>
      </div>
      <div class="feedback" id="p1-fb"></div>
    </div>

    <!-- Problem 2 -->
    <div class="problem">
      <div class="problem-num">Problem 2 — Hess's Law</div>
      <p>Given:<br>
        (1) S(s) + O₂(g) → SO₂(g), ΔH₁ = −296.8 kJ<br>
        (2) 2SO₂(g) + O₂(g) → 2SO₃(g), ΔH₂ = −197.0 kJ<br>
        Find ΔH for: S(s) + 3/2 O₂(g) → SO₃(g) in kJ.
      </p>
      <div class="input-row">
        <input type="number" id="p2" placeholder="answer" step="0.1">
        <span class="input-unit">kJ</span>
        <button class="check-btn" onclick="checkNum('p2', -395.3, 1.0)">Check</button>
      </div>
      <div class="feedback" id="p2-fb"></div>
    </div>

    <!-- Problem 3 -->
    <div class="problem">
      <div class="problem-num">Problem 3 — Bond Energies</div>
      <p>Estimate ΔH for: H₂(g) + F₂(g) → 2HF(g)<br>
        Bond energies: H—H = 432 kJ/mol, F—F = 154 kJ/mol, H—F = 565 kJ/mol
      </p>
      <div class="input-row">
        <input type="number" id="p3" placeholder="answer" step="1">
        <span class="input-unit">kJ</span>
        <button class="check-btn" onclick="checkNum('p3', -544, 10)">Check</button>
      </div>
      <div class="feedback" id="p3-fb"></div>
    </div>

    <!-- Problem 4 -->
    <div class="problem">
      <div class="problem-num">Problem 4 — Standard Enthalpies</div>
      <p>Calculate ΔH°<sub>rxn</sub> for the combustion of ethanol:<br>
        C₂H₅OH(l) + 3O₂(g) → 2CO₂(g) + 3H₂O(l)<br>
        ΔH°<sub>f</sub>: C₂H₅OH(l) = −277.7, CO₂(g) = −393.5, H₂O(l) = −285.8 kJ/mol
      </p>
      <div class="input-row">
        <input type="number" id="p4" placeholder="answer" step="0.1">
        <span class="input-unit">kJ</span>
        <button class="check-btn" onclick="checkNum('p4', -1366.8, 2.0)">Check</button>
      </div>
      <div class="feedback" id="p4-fb"></div>
    </div>

    <!-- Problem 5 — MC -->
    <div class="problem">
      <div class="problem-num">Problem 5 — Conceptual</div>
      <p>A hand warmer releases 2.5 kJ of heat to the surroundings. Which statement is correct?</p>
      <div class="mc-options">
        <button class="mc-btn" onclick="checkMC(this,'p5','correct')">ΔH &lt; 0; the reaction is exothermic; the system loses enthalpy</button>
        <button class="mc-btn" onclick="checkMC(this,'p5','wrong')">ΔH &gt; 0; the reaction is endothermic; the surroundings lose enthalpy</button>
        <button class="mc-btn" onclick="checkMC(this,'p5','wrong')">ΔH &lt; 0; the reaction is endothermic; the system gains enthalpy</button>
        <button class="mc-btn" onclick="checkMC(this,'p5','wrong')">ΔH &gt; 0; the reaction is exothermic; the system gains enthalpy</button>
      </div>
      <div class="feedback" id="p5-fb"></div>
    </div>

    <!-- Problem 6 — Bomb calorimeter -->
    <div class="problem">
      <div class="problem-num">Problem 6 — Bomb Calorimeter</div>
      <p>A bomb calorimeter has a heat capacity (C<sub>cal</sub>) of 5.21 kJ/°C. Combustion of a sample causes the temperature to rise 3.45°C. What is |q<sub>rxn</sub>| in kJ? (q<sub>cal</sub> = C<sub>cal</sub> × ΔT)</p>
      <div class="input-row">
        <input type="number" id="p6" placeholder="answer" step="0.01">
        <span class="input-unit">kJ</span>
        <button class="check-btn" onclick="checkNum('p6', 17.97, 0.1)">Check</button>
      </div>
      <div class="feedback" id="p6-fb"></div>
    </div>

  </div>
</div>

<!-- ═══════════════════════════════════════════════ SECTION 8 -->
<div class="section-card" data-section="8">
  <div class="section-header" onclick="toggleSection(this)">
    <span class="section-num">08</span>
    <span class="section-name">Quiz — 10 Questions</span>
    <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
  </div>
  <div class="section-body">
    <div class="quiz-header">
      <div class="quiz-score-display">Score: <span id="quizScore">0</span> / 10</div>
      <button class="reset-btn" onclick="resetQuiz()">Reset Quiz</button>
    </div>

    <!-- Q1 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 1</div>
      <p>A reaction has ΔH = −450 kJ. This reaction is:</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(1,this,true)">Exothermic — releases heat to surroundings</button>
        <button class="choice-btn" onclick="quizAnswer(1,this,false)">Endothermic — absorbs heat from surroundings</button>
        <button class="choice-btn" onclick="quizAnswer(1,this,false)">Neither — ΔH only matters at constant volume</button>
        <button class="choice-btn" onclick="quizAnswer(1,this,false)">Exothermic — absorbs heat from surroundings</button>
      </div>
    </div>

    <!-- Q2 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 2</div>
      <p>Which of the following is a state function?</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(2,this,false)">Work (w)</button>
        <button class="choice-btn" onclick="quizAnswer(2,this,false)">Heat (q)</button>
        <button class="choice-btn" onclick="quizAnswer(2,this,true)">Enthalpy (H)</button>
        <button class="choice-btn" onclick="quizAnswer(2,this,false)">Both q and w</button>
      </div>
    </div>

    <!-- Q3 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 3</div>
      <p>500 g of water is heated from 20°C to 80°C. Using c = 4.184 J/g·°C, q equals:</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(3,this,false)">83.7 kJ</button>
        <button class="choice-btn" onclick="quizAnswer(3,this,true)">125.5 kJ</button>
        <button class="choice-btn" onclick="quizAnswer(3,this,false)">167.4 kJ</button>
        <button class="choice-btn" onclick="quizAnswer(3,this,false)">251.0 kJ</button>
      </div>
    </div>

    <!-- Q4 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 4</div>
      <p>Hess's Law works because enthalpy is a:</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(4,this,false)">Path function — depends on how the reaction proceeds</button>
        <button class="choice-btn" onclick="quizAnswer(4,this,true)">State function — depends only on initial and final states</button>
        <button class="choice-btn" onclick="quizAnswer(4,this,false)">Kinetic property — depends on activation energy</button>
        <button class="choice-btn" onclick="quizAnswer(4,this,false)">Extensive property only at constant pressure</button>
      </div>
    </div>

    <!-- Q5 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 5</div>
      <p>When using bond energies to calculate ΔH, which statement is correct?</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(5,this,false)">ΔH = Σ BE(bonds formed) − Σ BE(bonds broken)</button>
        <button class="choice-btn" onclick="quizAnswer(5,this,true)">ΔH = Σ BE(bonds broken) − Σ BE(bonds formed)</button>
        <button class="choice-btn" onclick="quizAnswer(5,this,false)">ΔH = Σ BE(bonds broken) + Σ BE(bonds formed)</button>
        <button class="choice-btn" onclick="quizAnswer(5,this,false)">Bond energy calculations give exact ΔH values equal to calorimetry</button>
      </div>
    </div>

    <!-- Q6 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 6</div>
      <p>A bomb calorimeter measures ΔU (constant volume). To get ΔH at constant pressure, which correction is needed?</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(6,this,false)">Add mcΔT for the water jacket</button>
        <button class="choice-btn" onclick="quizAnswer(6,this,true)">Add Δn<sub>gas</sub>RT (PΔV work term)</button>
        <button class="choice-btn" onclick="quizAnswer(6,this,false)">Subtract the heat capacity of the calorimeter</button>
        <button class="choice-btn" onclick="quizAnswer(6,this,false)">No correction needed — ΔH = ΔU always</button>
      </div>
    </div>

    <!-- Q7 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 7</div>
      <p>ΔH°<sub>f</sub> for O₂(g) at standard conditions is:</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(7,this,false)">−498 kJ/mol (O=O bond energy)</button>
        <button class="choice-btn" onclick="quizAnswer(7,this,false)">+498 kJ/mol</button>
        <button class="choice-btn" onclick="quizAnswer(7,this,true)">0 kJ/mol — it is an element in its standard state</button>
        <button class="choice-btn" onclick="quizAnswer(7,this,false)">−241.8 kJ/mol</button>
      </div>
    </div>

    <!-- Q8 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 8</div>
      <p>The N≡N triple bond (945 kJ/mol) is much stronger than the N—N single bond (163 kJ/mol). This explains why:</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(8,this,false)">Nitrogen gas is highly reactive and flammable</button>
        <button class="choice-btn" onclick="quizAnswer(8,this,true)">Nitrogen gas (N₂) is very stable and explosives that release N₂ are highly exothermic</button>
        <button class="choice-btn" onclick="quizAnswer(8,this,false)">Nitrogen gas is endothermic to form, making it unstable</button>
        <button class="choice-btn" onclick="quizAnswer(8,this,false)">Explosives avoid forming N₂ because it is too stable to be useful</button>
      </div>
    </div>

    <!-- Q9 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 9</div>
      <p>When you reverse a reaction in a Hess's Law calculation, what happens to ΔH?</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(9,this,false)">ΔH is halved</button>
        <button class="choice-btn" onclick="quizAnswer(9,this,false)">ΔH stays the same (state function)</button>
        <button class="choice-btn" onclick="quizAnswer(9,this,true)">ΔH changes sign (negative becomes positive, and vice versa)</button>
        <button class="choice-btn" onclick="quizAnswer(9,this,false)">ΔH becomes zero because the reaction is undone</button>
      </div>
    </div>

    <!-- Q10 -->
    <div class="quiz-q">
      <div class="quiz-q-num">Question 10</div>
      <p>JP-5 jet fuel (approx. C₁₂H₂₆) combustion is highly exothermic. The PRIMARY thermodynamic reason is:</p>
      <div class="choices">
        <button class="choice-btn" onclick="quizAnswer(10,this,false)">C—H bonds in JP-5 are very strong and store enormous energy</button>
        <button class="choice-btn" onclick="quizAnswer(10,this,false)">The O₂ reactant has a very negative ΔH°<sub>f</sub></button>
        <button class="choice-btn" onclick="quizAnswer(10,this,true)">The C=O bonds in CO₂ and O—H bonds in H₂O products are much stronger than the C—H, C—C, and O=O bonds broken in reactants</button>
        <button class="choice-btn" onclick="quizAnswer(10,this,false)">Combustion reactions always produce more moles of gas, increasing entropy and driving the reaction forward</button>
      </div>
    </div>

  </div>
</div>

</div><!-- end .content -->

<script>
// ─── PROGRESS ───────────────────────────────────────────────────────────────
var completedSections = new Set();
function updateProgress() {
  var cards = document.querySelectorAll('.section-card');
  var total = cards.length;
  var pct = (completedSections.size / total) * 100;
  document.getElementById('progressFill').style.width = pct + '%';
  document.getElementById('progressLabel').textContent = completedSections.size + ' / ' + total + ' sections';
}
function markComplete(n) {
  if (completedSections.has(n)) return;
  completedSections.add(n);
  var card = document.querySelector('.section-card[data-section="'+n+'"]');
  if (card) card.classList.add('completed');
  updateProgress();
}
function toggleSection(header) {
  var card = header.parentElement;
  card.classList.toggle('open');
  if (card.classList.contains('open')) { markComplete(+card.getAttribute('data-section')); }
  updateProgress();
}

// ─── CHECK FUNCTIONS ─────────────────────────────────────────────────────────
function checkNum(id, answer, tol) {
  var inp = document.getElementById(id);
  var fb = document.getElementById(id + '-fb');
  var val = parseFloat(inp.value);
  if (isNaN(val)) {
    fb.className = 'feedback incorrect'; fb.textContent = 'Enter a number.';
    inp.parentElement.parentElement.classList.add('shake');
    setTimeout(function(){ inp.parentElement.parentElement.classList.remove('shake'); }, 400);
    return;
  }
  if (Math.abs(val - answer) <= tol) {
    fb.className = 'feedback correct'; fb.textContent = 'Correct! The answer is ' + answer + '.';
    inp.parentElement.parentElement.classList.add('pop');
    setTimeout(function(){ inp.parentElement.parentElement.classList.remove('pop'); }, 350);
  } else {
    fb.className = 'feedback incorrect'; fb.textContent = 'Not quite. Try again. (Hint: near ' + answer.toFixed(2) + ')';
    inp.parentElement.parentElement.classList.add('shake');
    setTimeout(function(){ inp.parentElement.parentElement.classList.remove('shake'); }, 400);
  }
}
function checkMC(btn, id, result) {
  var fb = document.getElementById(id + '-fb');
  var btns = btn.parentElement.querySelectorAll('.mc-btn');
  btns.forEach(function(b) { b.classList.add('disabled'); });
  if (result === 'correct') {
    btn.classList.add('correct'); fb.className = 'feedback correct'; fb.textContent = 'Correct!';
    btn.closest('.problem').classList.add('pop');
    setTimeout(function(){ btn.closest('.problem').classList.remove('pop'); }, 350);
  } else {
    btn.classList.add('wrong'); fb.className = 'feedback incorrect'; fb.textContent = 'Not quite. Review the concept above.';
    btn.closest('.problem').classList.add('shake');
    setTimeout(function(){ btn.closest('.problem').classList.remove('shake'); }, 400);
  }
}

// ─── QUIZ ────────────────────────────────────────────────────────────────────
var quizScoreVal = 0, quizAnswered = new Set();
function quizAnswer(qn, btn, correct) {
  if (quizAnswered.has(qn)) return;
  quizAnswered.add(qn);
  var btns = btn.parentElement.querySelectorAll('.choice-btn');
  btns.forEach(function(b) { b.classList.add('disabled'); });
  if (correct) {
    btn.classList.add('selected-correct'); quizScoreVal++;
    btn.closest('.quiz-q').classList.add('pop');
    setTimeout(function(){ btn.closest('.quiz-q').classList.remove('pop'); }, 350);
  } else {
    btn.classList.add('selected-wrong');
    btns.forEach(function(b) {
      if (b.getAttribute('onclick') && b.getAttribute('onclick').indexOf('true') !== -1)
        b.classList.add('reveal-correct');
    });
    btn.closest('.quiz-q').classList.add('shake');
    setTimeout(function(){ btn.closest('.quiz-q').classList.remove('shake'); }, 400);
  }
  document.getElementById('quizScore').textContent = quizScoreVal;
}
function resetQuiz() {
  quizScoreVal = 0; quizAnswered.clear();
  document.getElementById('quizScore').textContent = '0';
  document.querySelectorAll('.quiz-q .choice-btn').forEach(function(b) { b.className = 'choice-btn'; });
}

// ─── CALORIMETER SLIDER ───────────────────────────────────────────────────────
function updateCalc() {
  var m  = parseInt(document.getElementById('massSlider').value);
  var cv = parseInt(document.getElementById('cSlider').value);
  var dt = parseInt(document.getElementById('dtSlider').value);
  var c  = cv / 100;
  var q  = m * c * dt;
  document.getElementById('massRead').textContent = m + ' g';
  document.getElementById('cRead').textContent    = c.toFixed(2) + ' J/g·°C';
  document.getElementById('dtRead').textContent   = (dt >= 0 ? '+' : '') + dt.toFixed(1) + ' °C';
  document.getElementById('qResult').textContent  = (q >= 0 ? '+' : '') + Math.round(q).toLocaleString() + ' J';
  document.getElementById('qResultKJ').textContent = (q >= 0 ? '+' : '') + (q/1000).toFixed(2) + ' kJ';

  var dir = document.getElementById('directionLabel');
  if (dt > 0)      { dir.textContent = 'Endothermic for surroundings — water absorbed heat from reaction'; dir.style.color = '#86efac'; }
  else if (dt < 0) { dir.textContent = 'Exothermic for surroundings — water lost heat to reaction'; dir.style.color = '#f9a8d4'; }
  else             { dir.textContent = 'No temperature change — no net heat transfer'; dir.style.color = '#6b7280'; }
}
updateCalc();

// ─── ENTHALPY DIAGRAM ─────────────────────────────────────────────────────────
var currentDiagram = 'exo';
function showDiagram(type) {
  currentDiagram = type;
  document.getElementById('exoBtn').className = 'toggle-btn' + (type === 'exo' ? ' active-exo' : '');
  document.getElementById('endoBtn').className = 'toggle-btn' + (type === 'endo' ? ' active-endo' : '');
  document.getElementById('combBtn').className = 'toggle-btn' + (type === 'comb' ? ' active-exo' : '');
  if (type === 'comb') {
    document.getElementById('combBtn').className = 'toggle-btn';
    document.getElementById('combBtn').style.background = type === 'comb' ? 'var(--amber-dim)' : '';
    document.getElementById('combBtn').style.borderColor = type === 'comb' ? 'var(--amber-border)' : '';
    document.getElementById('combBtn').style.color = type === 'comb' ? 'var(--amber)' : '';
  }
  renderDiagram(type);
}

function renderDiagram(type) {
  var g = document.getElementById('diagramContent');
  var cap = document.getElementById('diagramCaption');
  g.innerHTML = '';

  // Layout constants
  var rY, pY, peakY, rLabel, pLabel, dhLabel, dhColor, lineColor, capText, reactionLabel;

  if (type === 'exo') {
    rY = 80;  pY = 185; peakY = 45;
    rLabel = 'Reactants'; pLabel = 'Products';
    dhLabel = 'ΔH < 0 (−)'; dhColor = '#ec4899';
    lineColor = '#ec4899';
    reactionLabel = 'e.g. 2H₂ + O₂ → 2H₂O  ΔH° = −572 kJ';
    capText = 'Exothermic: products are at lower enthalpy. Heat released to surroundings. ΔH < 0.';
  } else if (type === 'endo') {
    rY = 185; pY = 80; peakY = 45;
    rLabel = 'Reactants'; pLabel = 'Products';
    dhLabel = 'ΔH > 0 (+)'; dhColor = '#22c55e';
    lineColor = '#22c55e';
    reactionLabel = 'e.g. N₂ + O₂ → 2NO  ΔH° = +180 kJ';
    capText = 'Endothermic: products are at higher enthalpy. Heat absorbed from surroundings. ΔH > 0.';
  } else {
    rY = 80; pY = 200; peakY = 38;
    rLabel = 'C₁₂H₂₆ + O₂'; pLabel = '12CO₂ + 13H₂O';
    dhLabel = 'ΔH ≈ −8084 kJ'; dhColor = '#f59e0b';
    lineColor = '#f59e0b';
    reactionLabel = 'JP-5 (dodecane) combustion — ~43 MJ/kg energy density';
    capText = 'JP-5 combustion: massive enthalpy drop drives turbines, provides propulsion.';
  }

  var svg = '';

  // Activation energy hump path
  var r1x = 80, r2x = 160;
  var p1x = 320, p2x = 400;
  var peakX = 240;

  // Horizontal lines for reactants and products
  svg += '<line x1="'+r1x+'" y1="'+rY+'" x2="'+r2x+'" y2="'+rY+'" stroke="'+lineColor+'" stroke-width="2.5" stroke-linecap="round"/>';
  svg += '<line x1="'+p1x+'" y1="'+pY+'" x2="'+p2x+'" y2="'+pY+'" stroke="'+lineColor+'" stroke-width="2.5" stroke-linecap="round"/>';

  // Curved path reactants → peak → products
  svg += '<path d="M '+r2x+' '+rY+' Q '+((r2x+peakX)/2)+' '+(peakY-10)+' '+peakX+' '+peakY+' Q '+((peakX+p1x)/2)+' '+(peakY-10)+' '+p1x+' '+pY+'" fill="none" stroke="'+lineColor+'" stroke-width="2" stroke-dasharray="5,4" opacity="0.6"/>';

  // Activation energy arrow (reactants to peak)
  svg += '<line x1="200" y1="'+rY+'" x2="200" y2="'+peakY+'" stroke="#6b7280" stroke-width="1" stroke-dasharray="3,3"/>';
  svg += '<text x="204" y="'+Math.round((rY+peakY)/2)+'" fill="#6b7280" font-family="JetBrains Mono,monospace" font-size="10" dominant-baseline="middle">Eₐ</text>';

  // ΔH arrow
  svg += '<line x1="440" y1="'+rY+'" x2="440" y2="'+pY+'" stroke="'+dhColor+'" stroke-width="1.5" stroke-dasharray="4,3"/>';
  // arrowhead up
  var arrowTop = rY < pY ? rY : pY;
  var arrowBot = rY < pY ? pY : rY;
  svg += '<text x="445" y="'+Math.round((rY+pY)/2)+'" fill="'+dhColor+'" font-family="JetBrains Mono,monospace" font-size="11" dominant-baseline="middle">'+dhLabel+'</text>';
  // tick marks on dH arrow
  svg += '<line x1="435" y1="'+rY+'" x2="445" y2="'+rY+'" stroke="'+dhColor+'" stroke-width="1.5"/>';
  svg += '<line x1="435" y1="'+pY+'" x2="445" y2="'+pY+'" stroke="'+dhColor+'" stroke-width="1.5"/>';

  // Labels
  svg += '<text x="'+Math.round((r1x+r2x)/2)+'" y="'+(rY-10)+'" fill="'+lineColor+'" font-family="JetBrains Mono,monospace" font-size="11" text-anchor="middle" font-weight="600">'+rLabel+'</text>';
  svg += '<text x="'+Math.round((p1x+p2x)/2)+'" y="'+(pY-10)+'" fill="'+lineColor+'" font-family="JetBrains Mono,monospace" font-size="11" text-anchor="middle" font-weight="600">'+pLabel+'</text>';

  // Reaction label
  svg += '<text x="230" y="245" fill="#6b7280" font-family="JetBrains Mono,monospace" font-size="10" text-anchor="middle">'+reactionLabel+'</text>';

  g.innerHTML = svg;
  cap.textContent = capText;
}

renderDiagram('exo');

// ─── INIT ────────────────────────────────────────────────────────────────────
updateProgress();
</script>
</body>
</html>
