<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Riner Research Outpost</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0a1a;--card:#111128;--card-border:#1a1a3a;--text:#e0e0f0;--text-dim:#8888aa;
--accent1:#6366f1;--accent2:#a855f7;--accent3:#ec4899;--green:#22c55e;--orange:#f59e0b;
}
html,body{width:100%;height:100%;overflow:hidden;font-family:'JetBrains Mono',monospace;background:var(--bg);color:var(--text)}

/* YouTube Background */
#yt-bg{position:fixed;inset:0;z-index:0;overflow:hidden;background:transparent}
#yt-bg iframe{position:absolute;top:50%;left:50%;min-width:200vh;min-height:60vw;width:200vh;height:120vh;transform:translate(-50%,-50%);pointer-events:none}

/* Overlays */
#scanlines{position:fixed;inset:0;z-index:1;pointer-events:none;
background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.06) 2px,rgba(0,0,0,.06) 4px)}
#vignette{position:fixed;inset:0;z-index:1;pointer-events:none;
background:radial-gradient(ellipse at center,transparent 50%,rgba(0,0,0,.55) 100%)}

/* Status Bar */
#status-bar{position:fixed;top:0;left:0;right:0;z-index:100;display:flex;justify-content:space-between;align-items:center;
padding:8px 20px;background:rgba(10,10,26,.82);backdrop-filter:blur(8px);border-bottom:1px solid var(--card-border);font-size:12px;letter-spacing:1px}
#status-bar .left{display:flex;align-items:center;gap:8px;color:var(--accent1);font-weight:700;text-transform:uppercase}
#status-bar .right{display:flex;align-items:center;gap:16px;color:var(--text-dim);font-size:11px}
.pulse-dot{width:8px;height:8px;border-radius:50%;background:var(--green);animation:pulse 2s ease-in-out infinite;display:inline-block}
@keyframes pulse{0%,100%{opacity:1;box-shadow:0 0 4px var(--green)}50%{opacity:.4;box-shadow:0 0 8px var(--green)}}

/* â”€â”€ SIDEBAR â”€â”€ */
#sidebar{
  position:fixed;left:0;top:36px;bottom:0;z-index:50;
  width:56px;
  background:rgba(10,10,26,.4);
  backdrop-filter:blur(6px);
  border-right:1px solid var(--card-border);
  display:flex;flex-direction:column;align-items:center;
  padding:12px 0;gap:4px;
  transition:width .3s ease;
  overflow:hidden;
}
#sidebar:hover{width:200px}
#sidebar:hover .nav-label{opacity:1}

.nav-item{
  display:flex;align-items:center;gap:10px;
  width:calc(100% - 12px);padding:8px 12px;margin:0 6px;
  border-radius:8px;cursor:pointer;
  text-decoration:none;color:var(--text-dim);
  transition:all .2s;white-space:nowrap;overflow:hidden;
  font-size:13px;
}
.nav-item:hover{
  background:rgba(99,102,241,.15);color:var(--text);
}
.nav-item .nav-icon{
  font-size:20px;flex-shrink:0;width:28px;text-align:center;
}
.nav-label{
  opacity:0;transition:opacity .2s;font-size:11px;font-weight:500;
}

.nav-divider{
  width:30px;height:1px;background:var(--card-border);margin:6px 0;
}

/* â”€â”€ Zoom â”€â”€ */
#zoom-overlay{
  position:fixed;inset:0;z-index:200;background:rgba(5,5,15,.9);
  display:none;opacity:0;transition:opacity .3s;
}
#zoom-overlay.active{display:block;opacity:1}
#zoom-frame{
  position:fixed;z-index:201;border:none;
  transition:all .7s cubic-bezier(.22,1,.36,1);
}
#zoom-frame.fullscreen{
  top:36px!important;left:0!important;width:100vw!important;height:calc(100vh - 36px)!important;
  border-radius:0!important;
}

#back-btn{position:fixed;top:6px;right:20px;z-index:300;display:none;padding:6px 14px;
background:rgba(10,10,26,.95);border:1px solid var(--accent1);border-radius:4px;
color:var(--accent1);font:12px 'JetBrains Mono',monospace;cursor:pointer;backdrop-filter:blur(6px);transition:all .2s}
#back-btn:hover{color:var(--text);background:rgba(99,102,241,.2)}
#back-btn.show{display:block}

/* â”€â”€ Controls â”€â”€ */
#controls{position:fixed;bottom:14px;right:14px;z-index:100;display:flex;gap:8px;align-items:flex-end}
.ctrl-btn{width:36px;height:36px;border-radius:6px;background:rgba(17,17,40,.85);border:1px solid var(--card-border);
color:var(--text-dim);font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;
backdrop-filter:blur(6px);transition:all .2s}
.ctrl-btn:hover{border-color:var(--accent2);color:var(--text)}

#scene-list,#radio-list{position:absolute;bottom:44px;right:0;background:rgba(17,17,40,.92);border:1px solid var(--card-border);
border-radius:6px;padding:6px 0;display:none;min-width:220px;backdrop-filter:blur(10px)}
#scene-list.open,#radio-list.open{display:block}
.scene-item,.radio-item{padding:8px 14px;font-size:11px;cursor:pointer;color:var(--text-dim);transition:all .15s;white-space:nowrap}
.scene-item:hover,.scene-item.active,.radio-item:hover,.radio-item.active{color:var(--text);background:rgba(99,102,241,.15)}
.radio-item .radio-sub{font-size:9px;color:var(--text-dim);opacity:.6;margin-top:2px}
.radio-item.playing{color:var(--green)}
.radio-item.playing::before{content:'â–¶ ';color:var(--green)}

/* â”€â”€ Responsive â”€â”€ */
@media(max-width:600px){
  #sidebar{width:48px}
  #sidebar:hover{width:180px}
  .nav-item .nav-icon{font-size:18px}
  #status-bar{font-size:10px;padding:6px 10px}
  #status-bar .right span:not(:last-child){display:none}
}
</style>
</head>
<body>

<!-- YouTube Background -->
<div id="yt-bg"><div id="yt-player"></div></div>
<div id="scanlines"></div>
<div id="vignette"></div>

<!-- Status Bar -->
<div id="status-bar">
<div class="left">â—† RINER RESEARCH OUTPOST</div>
<div class="right">
<span><span class="pulse-dot"></span> SYSTEMS NOMINAL</span>
<span id="day-count">DAY 0</span>
<span>SCREENS 13</span>
<span id="utc-clock">00:00:00 UTC</span>
</div>
</div>

<!-- Sidebar -->
<nav id="sidebar"></nav>

<!-- Zoom elements -->
<div id="zoom-overlay"></div>
<iframe id="zoom-frame"></iframe>
<button id="back-btn" onclick="zoomOut()">â—‚ ESC â€” Back to Outpost</button>

<!-- Controls -->
<div id="controls">
<div style="position:relative">
<button class="ctrl-btn" id="radio-btn" onclick="toggleRadioList()" title="Space Radio">ðŸ“»</button>
<div id="radio-list"></div>
</div>
<button class="ctrl-btn" id="audio-btn" onclick="toggleAudio()" title="Toggle Video Audio">ðŸ”‡</button>
<div style="position:relative">
<button class="ctrl-btn" onclick="toggleSceneList()" title="Change Scene">ðŸŽ¬</button>
<div id="scene-list"></div>
</div>
</div>
<audio id="radio-player" crossorigin="anonymous"></audio>

<script>
const SCENES=[
{id:'Dvwaq1rwioQ',name:'Enceladus Outpost'},
{id:'WjY0s0ALnRU',name:'Space Ambience I'},
{id:'1fDP9T9Cagg',name:'Space Ambience II'},
{id:'hSwcHHPcw2o',name:'Winter Mission Outpost'}
];

const NAV=[
{icon:'ðŸ“',label:'5D Prime Metric',href:'metric.html'},
{icon:'ðŸ“¡',label:'Research Feed',href:'research-feed.html'},
{icon:'ðŸŒ€',label:'Big Picture',href:'big-picture.html'},
{icon:'ðŸ§®',label:'Daily Practice',href:'daily-practice.html'},
{icon:'ðŸ“Š',label:'Math Journey',href:'math-journey.html'},
{divider:true},
{icon:'ðŸª',label:'Expedition',href:'expedition.html'},
{icon:'ðŸ”§',label:'Projects',href:'projects.html'},
{icon:'ðŸ“„',label:'Publications',href:'publications.html'},
{icon:'ðŸŽ¨',label:'Visualizations',href:'visualizations.html'},
{icon:'ðŸ”®',label:'6th Dimension',href:'substrate.html'},
{icon:'ðŸ”­',label:'LIGO Analysis',href:'ligo.html'},
{divider:true},
{icon:'ðŸ’¡',label:'Speculative',href:'speculative.html'},
{icon:'ðŸ—ºï¸',label:'Log & Roadmap',href:'log-roadmap.html'},
{icon:'ðŸ“',label:'Paper Editor',href:'editor.html'},
];

let player,currentScene=0,isMuted=true,isZoomed=false;

// YouTube API
const tag=document.createElement('script');
tag.src='https://www.youtube.com/iframe_api';
document.head.appendChild(tag);

window.onYouTubeIframeAPIReady=function(){
player=new YT.Player('yt-player',{
videoId:SCENES[0].id,
playerVars:{autoplay:1,mute:1,controls:0,showinfo:0,modestbranding:1,rel:0,
loop:1,playlist:SCENES[0].id,playsinline:1,disablekb:1,fs:0,iv_load_policy:3,
origin:window.location.origin},
events:{onReady:function(e){e.target.playVideo()}}
});
};

function switchScene(i){
currentScene=i;
if(player&&player.loadVideoById){
player.loadVideoById({videoId:SCENES[i].id,suggestedQuality:'hd1080'});
setTimeout(()=>{try{player.setLoop(true)}catch(e){}},1000);
}
document.querySelectorAll('.scene-item').forEach((el,j)=>el.classList.toggle('active',j===i));
}

function toggleAudio(){
if(!player)return;
isMuted=!isMuted;
if(isMuted){player.mute()}else{player.unMute()}
document.getElementById('audio-btn').textContent=isMuted?'ðŸ”‡':'ðŸ”Š';
}

function toggleSceneList(){document.getElementById('scene-list').classList.toggle('open')}

// Build scene list
const sl=document.getElementById('scene-list');
SCENES.forEach((s,i)=>{
const d=document.createElement('div');
d.className='scene-item'+(i===0?' active':'');
d.textContent=s.name;
d.onclick=()=>{switchScene(i);toggleSceneList()};
sl.appendChild(d);
});

// Build sidebar
const sidebar=document.getElementById('sidebar');
NAV.forEach(item=>{
if(item.divider){
const d=document.createElement('div');
d.className='nav-divider';
sidebar.appendChild(d);
return;
}
const a=document.createElement('div');
a.className='nav-item';
a.innerHTML=`<span class="nav-icon">${item.icon}</span><span class="nav-label">${item.label}</span>`;
a.onclick=()=>zoomIn(item.href,a);
sidebar.appendChild(a);
});

// Zoom
const overlay=document.getElementById('zoom-overlay');
const frame=document.getElementById('zoom-frame');
const backBtn=document.getElementById('back-btn');

function zoomIn(href,el){
if(isZoomed)return;
isZoomed=true;
const r=el.getBoundingClientRect();
// Start from the icon position
frame.style.transition='none';
frame.style.left=r.left+'px';
frame.style.top=r.top+'px';
frame.style.width=r.width+'px';
frame.style.height=r.height+'px';
frame.style.borderRadius='8px';
frame.style.display='block';
frame.src=href;
overlay.classList.add('active');
frame.offsetHeight; // reflow
requestAnimationFrame(()=>{
frame.style.transition='all .7s cubic-bezier(.22,1,.36,1)';
frame.classList.add('fullscreen');
});
backBtn.classList.add('show');
}

function zoomOut(){
if(!isZoomed)return;
isZoomed=false;
frame.classList.remove('fullscreen');
overlay.classList.remove('active');
backBtn.classList.remove('show');
setTimeout(()=>{
frame.style.display='none';
frame.src='about:blank';
},700);
}

document.addEventListener('keydown',e=>{if(e.key==='Escape')zoomOut()});
overlay.addEventListener('click',zoomOut);

// Clock & Day Counter
function updateClock(){
const now=new Date();
document.getElementById('utc-clock').textContent=now.toISOString().slice(11,19)+' UTC';
const epoch=new Date('2026-01-22T00:00:00Z');
const day=Math.floor((now-epoch)/864e5);
document.getElementById('day-count').textContent='DAY '+(day>0?day:0);
}
updateClock();setInterval(updateClock,1000);

// â”€â”€ SPACE RADIO â”€â”€
const RADIO_STATIONS=[
{name:'Mission Control',sub:'NASA audio + ambient music',url:'https://ice5.somafm.com/missioncontrol-128-mp3'},
{name:'Deep Space One',sub:'Deep ambient space music',url:'https://ice5.somafm.com/deepspaceone-128-mp3'},
{name:'Space Station Soma',sub:'Spaced-out ambient & electronica',url:'https://ice5.somafm.com/spacestation-128-mp3'},
{name:'Drone Zone',sub:'Atmospheric textures & drones',url:'https://ice5.somafm.com/dronezone-128-mp3'},
{name:'Off',sub:'Stop radio',url:null},
];

let radioPlaying=-1;
const radioPlayer=document.getElementById('radio-player');

const rl=document.getElementById('radio-list');
RADIO_STATIONS.forEach((s,i)=>{
const d=document.createElement('div');
d.className='radio-item';
d.innerHTML=`<div>${s.name}</div>${s.sub?'<div class="radio-sub">'+s.sub+'</div>':''}`;
d.onclick=()=>{playRadio(i);toggleRadioList()};
rl.appendChild(d);
});

function playRadio(i){
document.querySelectorAll('.radio-item').forEach((el,j)=>{
  el.classList.remove('active','playing');
});
if(RADIO_STATIONS[i].url===null||radioPlaying===i){
  radioPlayer.pause();radioPlayer.src='';
  radioPlaying=-1;
  document.getElementById('radio-btn').textContent='ðŸ“»';
  return;
}
radioPlayer.src=RADIO_STATIONS[i].url;
radioPlayer.volume=0.5;
radioPlayer.play().catch(()=>{});
radioPlaying=i;
document.querySelectorAll('.radio-item')[i].classList.add('active','playing');
document.getElementById('radio-btn').textContent='ðŸ“»';
document.getElementById('radio-btn').style.borderColor='var(--green)';
setTimeout(()=>{document.getElementById('radio-btn').style.borderColor=''},2000);
}

function toggleRadioList(){
document.getElementById('radio-list').classList.toggle('open');
document.getElementById('scene-list').classList.remove('open');
}

document.addEventListener('click',e=>{
if(!e.target.closest('#controls')){
  document.getElementById('scene-list').classList.remove('open');
  document.getElementById('radio-list').classList.remove('open');
}
});
</script>
</body>
</html>
